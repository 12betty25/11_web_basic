<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>연습예제</title>
<script>

	var lock = true;	//function 밖에 있고 없고 차이 알아보기
						//function 안에 있으면 한 번 돌아갈 때 lock이 리셋되기 때문
						//이어서 진행이 되어야하는데 안에 두면 계속 lock = true로 되어있다.

	function makeReasonBuy(reason){
		
		
		if (reason == 'etc' && lock == true){	//기타가 선택되었고 잠금이 걸려있을 때
			
			var addDetail = document.createElement("input"); //text 타입 input 해주고
			addDetail.type = "text";
			addDetail.placeholder = "이유를 적어주세요."; //placeholder 더해주기
			
			document.getElementById("target").appendChild(addDetail); 	//target에 위 내용 넣어주기
			lock = false;						//잠금 해제
		}
		
		else if (reason != 'etc' && lock == false) {	//기타가 아닌 것들이 선택되었고 잠금이 해제되었을 때
			
			var removeDetail = document.getElementById("target");  //target의 내용을 저장	
			removeDetail.removeChild(removeDetail.lastChild);	   //저장한 내용의 마지막 노드를 지운다.
			
			lock = true;										   //다른 마지막 노드가 지워지지 않게 잠금을 다시 걸어줌
		}
		
		
		
	}

</script>
</head>
<body>

	<!-- 
		
		radio에서 '기타'가 선택될 경우 
		<input type="text" size="100" placeholder="이유를 적어주세요">
		엘리먼트가 추가되도록 스크립트를 작성해 보시오.
		
		기타 이외의 다른 요소가 선택되면 
		기존의 <input type="text" size="100" placeholder="이유를 적어주세요">
		엘리먼트를 삭제하도록 스크립트를 작성해 보시오.
	
	 -->

	<fieldset>
		<p id="target">
			<label for="browser">구매 이유 : </label>
			<input type="radio" name="reasonBuy" onclick="makeReasonBuy('quality')"> 품질이 좋다
			<input type="radio" name="reasonBuy" onclick="makeReasonBuy('costEffect')"> 가성비가 좋다
			<input type="radio" name="reasonBuy" onclick="makeReasonBuy('etc')"> 기타&emsp;&emsp;&emsp;
		</p>
	</fieldset>
	
</body>
</html>